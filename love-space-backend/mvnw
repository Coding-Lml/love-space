#!/bin/sh
# Maven Wrapper 脚本

# 如果有 Maven 直接用
if command -v mvn &> /dev/null; then
    mvn "$@"
    exit $?
fi

# 否则下载并使用
MAVEN_HOME="$HOME/.m2/wrapper/dists/apache-maven-3.9.6"

if [ ! -d "$MAVEN_HOME" ]; then
    echo "下载 Maven..."
    mkdir -p "$MAVEN_HOME"
    curl -fsSL https://repo.maven.apache.org/maven2/org/apache/maven/apache-maven/3.9.6/apache-maven-3.9.6-bin.tar.gz | tar -xz -C "$HOME/.m2/wrapper/dists/"
fi

"$MAVEN_HOME/bin/mvn" "$@"
